Changes in component 'nf-core/seqkit/seq'
'modules/nf-core/seqkit/seq/environment.yml' is unchanged
'modules/nf-core/seqkit/seq/meta.yml' is unchanged
Changes in 'seqkit/seq/main.nf':
--- modules/nf-core/seqkit/seq/main.nf
+++ modules/nf-core/seqkit/seq/main.nf
@@ -10,6 +10,7 @@
 
     input:
     tuple val(meta), path(fastx)
+    val out_ext
 
     output:
     tuple val(meta), path("${prefix}.*"), emit: fastx
@@ -22,15 +23,15 @@
     def args = task.ext.args ?: ''
     def args2 = task.ext.args2 ?: ''
     prefix = task.ext.prefix ?: "${meta.id}"
-    def extension = "fastq"
-    if ("${fastx}" ==~ /.+\.fasta|.+\.fasta.gz|.+\.fa|.+\.fa.gz|.+\.fas|.+\.fas.gz|.+\.fna|.+\.fna.gz|.+\.fsa|.+\.fsa.gz/) {
-        extension = "fasta"
-    }
-    extension = fastx.toString().endsWith('.gz') ? "${extension}.gz" : extension
+    def extension = out_ext ?: "fasta"
+    // if ("${fastx}" ==~ /.+\.fasta|.+\.fasta.gz|.+\.fa|.+\.fa.gz|.+\.fas|.+\.fas.gz|.+\.fna|.+\.fna.gz|.+\.fsa|.+\.fsa.gz/) {
+    //     extension = "fasta"
+    // }
+    // extension = fastx.toString().endsWith('.gz') ? "${extension}.gz" : extension
     def call_gzip = extension.endsWith('.gz') ? "| gzip -c ${args2}" : ''
-    if ("${prefix}.${extension}" == "${fastx}") {
-        error("Input and output names are the same, use \"task.ext.prefix\" to disambiguate!")
-    }
+    // if ("${prefix}.${extension}" == "${fastx}") {
+    //     error("Input and output names are the same, use \"task.ext.prefix\" to disambiguate!")
+    // }
     """
     seqkit \\
         seq \\

'modules/nf-core/seqkit/seq/tests/main.nf.test.snap' is unchanged
'modules/nf-core/seqkit/seq/tests/nextflow.config' is unchanged
'modules/nf-core/seqkit/seq/tests/main.nf.test' is unchanged
************************************************************
